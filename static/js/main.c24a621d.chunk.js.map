{"version":3,"sources":["Components/Box.module.css","Components/Buttons.module.css","Components/Title.module.css","Components/PlayButton.module.css","Components/TimeSignature.module.css","Components/TempoSlider.module.css","Components/TempoDisplay.module.css","Components/TapTempo.module.css","Components/ResetButton.module.css","Components/PitchSelect.module.css","Components/BoxRow.module.css","Components/StepSequence.module.css","Components/Title.js","Components/PlayButton.js","Components/TimeSignature.js","Components/TempoSlider.js","Components/TempoDisplay.js","Components/TapTempo.js","Components/ResetButton.js","Components/Buttons.js","Components/PitchSelect.js","Components/Box.js","Components/BoxRow.js","Components/StepSequence.js","App.js","index.js"],"names":["module","exports","root","box","checked","active","activechecked","wrapperTop","wrapperBottom","info","landscape","label","length","slider","select","Title","props","react_default","a","createElement","className","_","chain","styles","compact","join","value","PlayButton","onClick","onTogglePlay","isPlaying","index_es","icon","TimeSignature","name","id","sequenceLength","onChange","e","onLengthChange","target","TempoSlider","type","min","max","tempo","onTempoChange","TempoDisplay","TapTempo","handleTap","ResetButton","onReset","Buttons","Components_PlayButton","Components_TimeSignature","Components_ResetButton","Components_TapTempo","Components_TempoDisplay","Components_TempoSlider","PitchSelect","notes","row","onPitchSelect","Box","map","isBoxChecked","i","onToggle","isActive","key","BoxRow","Components_PitchSelect","Components_Box","StepSequence","Components_BoxRow","pitchConversion","toggleBox","priorChecked","Object","toConsumableArray","synth","Tone","PolySynth","Synth","toMaster","context","AudioContext","library","add","faPlay","faStop","faRecycle","faInfoCircle","App","state","renderedNotes","partContainer","timeContainer","defaults","elapsedTime","numberOfTaps","averageBPM","componentDidMount","_this","generateMetronome","StartAudioContext","then","console","log","document","body","window","addEventListener","keyCode","preventDefault","screen","orientation","Math","abs","angle","height","setState","onToggleBox","prior","Transport","loop","loopStart","loopEnd","start","stop","restartPlaying","error","push","bpm","resetTempo","forceStop","shift","currentTime","toFixed","round","slice","time","reduce","b","note","forEach","part","removeAll","_this$state$notes","slicedToArray","note1","note2","seqLength","matrix","concat","velocity","index","Part","triggerVisualize","triggerAttackRelease","fill","Array","Components_Title","this","Components_Buttons","Components_StepSequence","React","PureComponent","ReactDOM","render","App_App","getElementById"],"mappings":"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","file":"static/js/main.c24a621d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Box_root__3wb8N\",\"box\":\"Box_box__3XcKJ\",\"checked\":\"Box_checked__FtauF\",\"active\":\"Box_active__FZFXX\",\"activechecked\":\"Box_activechecked__1J_cQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Buttons_root__OkpSj\",\"wrapperTop\":\"Buttons_wrapperTop__32li6\",\"wrapperBottom\":\"Buttons_wrapperBottom__1T4HC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Title_root__2Xc8l\",\"info\":\"Title_info__3DHXa\",\"landscape\":\"Title_landscape__2YZbI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"PlayButton_root__egeke\",\"label\":\"PlayButton_label__1kmG7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TimeSignature_root__3dXFM\",\"length\":\"TimeSignature_length__29E66\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TempoSlider_root__v3S9z\",\"slider\":\"TempoSlider_slider__14cma\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TempoDisplay_root__29aaI\",\"label\":\"TempoDisplay_label__3-ob8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TapTempo_root__1Vk8_\",\"label\":\"TapTempo_label__2XMp2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ResetButton_root__3LzA7\",\"label\":\"ResetButton_label__1H7Jl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"PitchSelect_root__1NRfw\",\"select\":\"PitchSelect_select__3sHnq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"BoxRow_root__1SXJu\",\"box\":\"BoxRow_box__BzG48\",\"checked\":\"BoxRow_checked__3Md4w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"StepSequence_root__12hd-\"};","import React from \"react\";\nimport _ from \"lodash\";\nimport styles from \"./Title.module.css\";\n\nconst Title = props => (\n  <div\n    className={_.chain([styles.root, props.landscape && styles.landscape])\n      .compact()\n      .join(\" \")\n      .value()}\n  >\n    Step Sequencer\n  </div>\n);\n\nexport default Title;\n","import React from \"react\";\nimport styles from \"./PlayButton.module.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nconst PlayButton = props => (\n  <div className={styles.root} onClick={props.onTogglePlay}>\n    <span className={styles.label}>\n      {props.isPlaying ? (\n        <FontAwesomeIcon icon=\"stop\" />\n      ) : (\n        <FontAwesomeIcon icon=\"play\" />\n      )}\n    </span>\n  </div>\n);\n\nexport default PlayButton;\n","import React from \"react\";\nimport styles from \"./TimeSignature.module.css\";\n\nconst TimeSignature = props => (\n  <div className={styles.root}>\n    <select\n      name=\"length\"\n      id=\"row-length\"\n      className={styles.length}\n      value={props.sequenceLength}\n      onChange={e => {\n        props.onLengthChange(e.target.value);\n      }}\n    >\n      <option value=\"2\">2</option>\n      <option value=\"3\">3</option>\n      <option value=\"4\">4</option>\n      <option value=\"5\">5</option>\n      <option value=\"6\">6</option>\n      <option value=\"7\">7</option>\n      <option value=\"8\">8</option>\n      <option value=\"9\">9</option>\n      <option value=\"10\">10</option>\n      <option value=\"11\">11</option>\n    </select>\n  </div>\n);\n\nexport default TimeSignature;\n","import React from \"react\";\nimport styles from \"./TempoSlider.module.css\";\n\nconst TempoSlider = props => (\n  <div className={styles.root}>\n    <input\n      type=\"range\"\n      min=\"30\"\n      max=\"300\"\n      value={props.tempo}\n      className={styles.slider}\n      onChange={e => {\n        props.onTempoChange(e.target.value);\n      }}\n    />\n  </div>\n);\n\nexport default TempoSlider;\n","import React from \"react\";\nimport styles from \"./TempoDisplay.module.css\";\n\nconst TempoDisplay = props => (\n  <div className={styles.root}>\n    <span className={styles.label}>{props.tempo}</span>\n  </div>\n);\n\nexport default TempoDisplay;\n","import React from \"react\";\nimport styles from \"./TapTempo.module.css\";\n\nconst TapTempo = props => (\n  <div className={styles.root} onClick={props.handleTap}>\n    <span className={styles.label}>Tap</span>\n  </div>\n);\n\nexport default TapTempo;\n","import React from \"react\";\nimport styles from \"./ResetButton.module.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nconst ResetButton = props => (\n  <div className={styles.root} onClick={props.onReset}>\n    <span className={styles.label}>\n      <FontAwesomeIcon icon=\"recycle\" />\n    </span>\n  </div>\n);\n\nexport default ResetButton;\n","import React from \"react\";\nimport PlayButton from \"./PlayButton\";\nimport TimeSignature from \"./TimeSignature\";\nimport TempoSlider from \"./TempoSlider\";\nimport TempoDisplay from \"./TempoDisplay\";\nimport TapTempo from \"./TapTempo\";\nimport ResetButton from \"./ResetButton\";\nimport styles from \"./Buttons.module.css\";\n\nconst Buttons = props => (\n  <div id=\"buttons\" className={styles.root}>\n    <div className={styles.wrapperTop}>\n      <PlayButton\n        isPlaying={props.isPlaying}\n        onTogglePlay={props.onTogglePlay}\n      />\n      <TimeSignature\n        sequenceLength={props.sequenceLength}\n        onLengthChange={props.onLengthChange}\n      />\n      <ResetButton onReset={props.onReset} />\n    </div>\n    <div className={styles.wrapperBottom}>\n      <TapTempo handleTap={props.handleTap} />\n      <TempoDisplay tempo={props.tempo} />\n      <TempoSlider tempo={props.tempo} onTempoChange={props.onTempoChange} />\n    </div>\n  </div>\n);\n\nexport default Buttons;\n","import React from \"react\";\nimport styles from \"./PitchSelect.module.css\";\n\nconst PitchSelect = props => (\n  <div className={styles.root}>\n    <select\n      name=\"pitch\"\n      id=\"pitch\"\n      className={styles.select}\n      value={props.notes[props.row]}\n      onChange={e => {\n        props.onPitchSelect(e.target.value, props.row);\n      }}\n    >\n      <option value=\"G5\">G5</option>\n      <option value=\"Gb5\">Gb5</option>\n      <option value=\"F5\">F5</option>\n      <option value=\"E5\">E5</option>\n      <option value=\"Eb5\">Eb5</option>\n      <option value=\"D5\">D5</option>\n      <option value=\"Db5\">Db5</option>\n      <option value=\"C5\">C5</option>\n      <option value=\"B4\">B4</option>\n      <option value=\"Bb4\">Bb4</option>\n      <option value=\"A4\">A4</option>\n      <option value=\"Ab4\">Ab4</option>\n      <option value=\"G4\">G4</option>\n    </select>\n  </div>\n);\n\nexport default PitchSelect;\n","import React from \"react\";\nimport styles from \"./Box.module.css\";\nimport _ from \"lodash\";\n\nconst Box = props => (\n  <div className={styles.root}>\n    {_.map(props.checked[props.row], (isBoxChecked, i) => (\n      <div\n        onClick={() => {\n          props.onToggle(i, props.row);\n        }}\n        className={_.chain([\n          styles.box,\n          isBoxChecked && styles.checked,\n          props.isActive[props.row][i] && !isBoxChecked && styles.active,\n          props.isActive[props.row][i] && isBoxChecked && styles.activechecked\n        ])\n          .compact()\n          .join(\" \")\n          .value()}\n        key={i}\n      />\n    ))}\n  </div>\n);\n\nexport default Box;\n","import React from \"react\";\nimport styles from \"./BoxRow.module.css\";\nimport PitchSelect from \"./PitchSelect\";\nimport Box from \"./Box\";\n\nconst BoxRow = props => (\n  <div className={styles.root}>\n    <PitchSelect\n      onPitchSelect={props.onPitchSelect}\n      notes={props.notes}\n      row={props.row}\n    />\n    <Box\n      checked={props.checked}\n      row={props.row}\n      isActive={props.isActive}\n      onToggle={props.onToggle}\n    />\n  </div>\n);\n\nexport default BoxRow;\n","import React from \"react\";\nimport BoxRow from \"./BoxRow\";\nimport styles from \"./StepSequence.module.css\";\n\nconst StepSequence = props => (\n  <div id=\"step-sequence\" className={styles.root}>\n    <BoxRow\n      checked={props.checked}\n      onToggle={props.onToggle}\n      sequenceLength={props.sequenceLength}\n      onPitchSelect={props.onPitchSelect}\n      notes={props.notes}\n      pitchConversion={props.pitchConversion}\n      isActive={props.isActive}\n      row=\"0\"\n    />\n    <BoxRow\n      checked={props.checked}\n      onToggle={props.onToggle}\n      sequenceLength={props.sequenceLength}\n      onPitchSelect={props.onPitchSelect}\n      notes={props.notes}\n      isActive={props.isActive}\n      row=\"1\"\n    />\n  </div>\n);\n\nexport default StepSequence;\n","import React from \"react\";\nimport Tone from \"tone\";\nimport _ from \"lodash\";\nimport Title from \"./Components/Title\";\nimport Buttons from \"./Components/Buttons\";\nimport StepSequence from \"./Components/StepSequence\";\nimport \"./App.css\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faPlay,\n  faStop,\n  faRecycle,\n  faInfoCircle\n} from \"@fortawesome/free-solid-svg-icons\";\nimport StartAudioContext from \"startaudiocontext\";\n\n/**\n TODO\n - Visualizer - must clear on stop, sometimes gets stuck on highlighted checked square\n - Mozilla/Safari rendering issues\n */\n\nfunction toggleBox(priorChecked, i, row) {\n  const checked = [...priorChecked];\n  checked[row][i] = !checked[row][i];\n  return checked;\n}\n\n// what are correct places for these?\nconst synth = new Tone.PolySynth(2, Tone.Synth).toMaster();\nconst context = new AudioContext();\n\n// fontawesome library setup\nlibrary.add(faPlay);\nlibrary.add(faStop);\nlibrary.add(faRecycle);\nlibrary.add(faInfoCircle);\n\nexport default class App extends React.PureComponent {\n  state = {\n    checked: [\n      [true, true, false, false, false, false, false],\n      [false, false, true, false, true, false, true]\n    ], // sequencer pattern array\n    isPlaying: false,\n    sequenceLength: 7, // length of sequence pattern\n    tempo: 120,\n    isActive: [[0, 0, 0, 1, 0, 1, 0], [0, 1, 0, 1, 0, 1, 0]], // used for highlighting suring visualization\n    renderedNotes: [],\n    partContainer: [], // store Part object for future removal\n    notes: [\"Eb5\", \"C5\"],\n    timeContainer: [], // tap tempo array\n    defaults: {\n      tempo: 120,\n      sequenceLength: 8,\n      isPlaying: false,\n      elapsedTime: 0,\n      numberOfTaps: 0,\n      averageBPM: 0,\n      checked: [\n        [true, false, false, false, false, false, false, false],\n        [false, false, true, false, true, false, true, false]\n      ],\n      notes: [\"Eb5\", \"C5\"],\n      isActive: [[0, 1, 0, 1, 0, 1, 0, 1], [0, 1, 0, 1, 0, 1, 0, 1]]\n    },\n    landscape: false\n  };\n\n  componentDidMount = () => {\n    this.generateMetronome();\n\n    StartAudioContext(Tone.context).then(function() {\n      console.log(document.body);\n    });\n\n    // event listener for space bar\n    window.addEventListener(\"keydown\", e => {\n      if (e.keyCode === 32 || e.keyCode === 13) {\n        try {\n          e.preventDefault(); // prevents space bar from triggering selected checkboxes\n          this.onTogglePlay();\n        } catch (e) {\n          console.log(e);\n        }\n      }\n    });\n\n    // check for orientation, add event listener\n    if (\n      window.screen.orientation &&\n      Math.abs(window.screen.orientation.angle) === 90 &&\n      window.screen.height < 500\n    )\n      this.setState({ landscape: true });\n    window.addEventListener(\"orientationchange\", () => {\n      if (Math.abs(window.screen.orientation.angle) !== 90) {\n        this.setState({ landscape: false });\n      } else if (window.screen.height < 500) {\n        this.setState({ landscape: true });\n      }\n    });\n  };\n\n  onToggleBox = (i, row) => {\n    this.setState(\n      prior => ({\n        checked: toggleBox(prior.checked, i, row)\n      }),\n      () => {\n        this.generateMetronome();\n      }\n    );\n  };\n\n  onTogglePlay = () => {\n    this.setState(\n      prior => ({\n        isPlaying: !prior.isPlaying\n      }),\n      () => {\n        if (!this.state.isPlaying) {\n          //stop transport, turn off looping - prevents collision with measure sequence loop\n          Tone.Transport.stop();\n          Tone.Transport.loop = false;\n          Tone.Transport.loopEnd = 0;\n          // isActive array zeroed out\n          this.setState({ isActive: [[], []] }, () => console.log(\"stopped\"));\n        } else {\n          // configure looping for step sequencer\n          Tone.Transport.loop = true;\n          Tone.Transport.loopStart = 0;\n          Tone.Transport.loopEnd =\n            (this.state.sequenceLength * 30) / this.state.tempo;\n          Tone.Transport.start(\"+0.0\");\n          console.log(\"playing\");\n        }\n      }\n    );\n  };\n\n  restartPlaying = () => {\n    if (this.state.isPlaying) {\n      this.setState({ isPlaying: this.state.isPlaying }, () => {\n        Tone.Transport.stop();\n        Tone.Transport.loopStart = 0;\n        Tone.Transport.loopEnd =\n          (this.state.sequenceLength * 30) / this.state.tempo;\n        Tone.Transport.loop = true;\n        Tone.Transport.start(\"+0.0\");\n        console.log(\"playing restarted\");\n      });\n    } else {\n      console.error(\"restartPlaying called while not playing\");\n    }\n  };\n\n  onLengthChange = sequenceLength => {\n    // create a new checked array and push simple everyother note pattern\n    const checked = [[], []];\n    for (let i = 0; i < sequenceLength; i++) {\n      checked[0].push(i === 0);\n      checked[1].push(i !== 0 && i % 2 === 0);\n    }\n    this.setState(\n      () => ({\n        sequenceLength,\n        checked\n      }),\n      () => {\n        Tone.Transport.loopEnd = (sequenceLength * 30) / this.state.tempo;\n        this.generateMetronome();\n      }\n    );\n  };\n\n  onTempoChange = tempo => {\n    this.setState(\n      {\n        tempo\n      },\n      () => {\n        Tone.Transport.bpm.value = tempo;\n      }\n    );\n  };\n\n  onReset = () => {\n    this.setState(\n      prior => ({\n        tempo: prior.defaults.tempo,\n        sequenceLength: prior.defaults.sequenceLength,\n        isPlaying: prior.defaults.isPlaying,\n        checked: prior.defaults.checked,\n        notes: prior.defaults.notes,\n        isActive: prior.defaults.isActive\n      }),\n      () => {\n        this.resetTempo();\n        this.forceStop();\n        this.onLengthChange(this.state.sequenceLength);\n        this.onPitchSelect(this.state.notes[0], 0);\n        this.onPitchSelect(this.state.notes[1], 1);\n      }\n    );\n  };\n\n  forceStop = () => {\n    Tone.Transport.stop();\n    Tone.Transport.loop = false;\n    Tone.Transport.loopEnd = 0;\n    console.log(\"force stopped\");\n  };\n\n  resetTempo = () => {\n    Tone.Transport.bpm.value = this.state.defaults.tempo;\n  };\n\n  handleTap = () => {\n    // timeContainer maintenance - shift and push\n    const timeContainer = this.state.timeContainer;\n    if (timeContainer.length > 2) timeContainer.shift();\n    timeContainer.push(context.currentTime.toFixed(3));\n\n    // calculate tempo\n    const tempo = Math.round(\n      60 /\n        (timeContainer\n          .slice(1)\n          .map((time, i) => time - timeContainer[i])\n          .reduce((a, b) => a + b, 0) /\n          (timeContainer.length - 1))\n    );\n\n    // make sure tempo is within acceptable bounds\n    if (tempo > 40 && tempo < 301)\n      this.setState({ tempo }, () => this.onTempoChange(tempo));\n  };\n\n  onPitchSelect = (note, row) => {\n    this.setState(\n      {\n        notes:\n          row === \"0\" // refactor this conditional\n            ? [note, this.state.notes[1]]\n            : [this.state.notes[0], note]\n      },\n      () => {\n        this.generateMetronome();\n      }\n    );\n  };\n\n  generateMetronome = () => {\n    // erase or stop all previous parts\n    const partContainer = this.state.partContainer;\n    partContainer.forEach(part => part.removeAll());\n\n    // metronome vitals\n    const [note1, note2] = this.state.notes,\n      seqLength = this.state.sequenceLength,\n      matrix = this.state.checked;\n\n    // new renderedNotes array, populate\n    const renderedNotes = [];\n    for (let i = 0; i < seqLength; i++) {\n      if (matrix[0][i]) {\n        renderedNotes.push({\n          note: note1,\n          time: `0:${i / 2}`,\n          velocity: 0.1,\n          index: i\n        });\n      } else if (!matrix[1][i]) {\n        renderedNotes.push({\n          note: note1,\n          time: `0:${i / 2}`,\n          velocity: 0,\n          index: i\n        });\n      }\n      if (matrix[1][i]) {\n        renderedNotes.push({\n          note: note2,\n          time: `0:${i / 2}`,\n          velocity: 0.1,\n          index: i\n        });\n      }\n    }\n\n    // create new Part, start Part, push Part to container\n    const part = new Tone.Part((time, value) => {\n      this.triggerVisualize(value.index);\n      synth.triggerAttackRelease(value.note, 0.05, time, value.velocity);\n    }, renderedNotes).start(0);\n    partContainer.push(part);\n\n    this.setState({\n      renderedNotes,\n      partContainer\n    });\n  };\n\n  triggerVisualize = index => {\n    // generate array of 0's\n    const length = this.state.sequenceLength;\n    const isActive = [_.fill(Array(length), 0), _.fill(Array(length), 0)];\n\n    // set particular index as active\n    isActive[0][index] = 1;\n    isActive[1][index] = 1;\n    this.setState({ isActive });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <Title landscape={this.state.landscape} />\n          <Buttons\n            isPlaying={this.state.isPlaying}\n            onTogglePlay={this.onTogglePlay}\n            sequenceLength={this.state.sequenceLength}\n            onLengthChange={this.onLengthChange}\n            tempo={this.state.tempo}\n            onTempoChange={this.onTempoChange}\n            onReset={this.onReset}\n            handleTap={this.handleTap}\n          />\n          <StepSequence\n            checked={this.state.checked}\n            onToggle={this.onToggleBox}\n            sequenceLength={this.state.sequenceLength}\n            onPitchSelect={this.onPitchSelect}\n            notes={this.state.notes}\n            isActive={this.state.isActive}\n          />\n        </header>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}